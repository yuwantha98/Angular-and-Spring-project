<div style="padding-top: 25px;"></div>
<div class="top-image">
  <img src="../../../../../assets/images/1.jpg" >
</div>

<div class="container mt-4 mb-5" style="background-color: #ffffff; padding: 20px; border-radius: 8px; box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1); margin-bottom:20px;">

  <!-- Filter Section -->
  <nz-spin [nzSpinning]="isSpinning" [nzSize]="'large'" nzTip="Working...">
    <div class="dashboard-filter">
      <div class="filter-grid row gx-4 gy-3" [formGroup]="validateForm" style="margin-bottom: 20px;">

        <!-- Brand Filter -->
        <div class="col-md-3">
          <nz-form-item>
            <nz-form-label nzFor="brand" style="font-weight: bold; color: #003973;">Brand</nz-form-label>
            <nz-form-control nzErrorTip="This Input Is Required!">
              <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Brand" formControlName="brand">
                <nz-option *ngFor="let brand of listOfBrands" nzLabel="{{brand}}" nzValue="{{brand}}"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Type Filter -->
        <div class="col-md-3">
          <nz-form-item>
            <nz-form-label nzFor="type" style="font-weight: bold; color: #003973;">Type</nz-form-label>
            <nz-form-control nzErrorTip="This Input Is Required!">
              <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Type" formControlName="type">
                <nz-option *ngFor="let type of listOfType" nzLabel="{{type}}" nzValue="{{type}}"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Color Filter -->
        <div class="col-md-3">
          <nz-form-item>
            <nz-form-label nzFor="color" style="font-weight: bold; color: #003973;">Color</nz-form-label>
            <nz-form-control nzErrorTip="This Input Is Required!">
              <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Color" formControlName="color">
                <nz-option *ngFor="let color of listOfColor" nzLabel="{{color}}" nzValue="{{color}}"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Transmission Filter -->
        <div class="col-md-3">
          <nz-form-item>
            <nz-form-label nzFor="transmission" style="font-weight: bold; color: #003973;">Transmission</nz-form-label>
            <nz-form-control nzErrorTip="This Input Is Required!">
              <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Transmission" formControlName="transmission">
                <nz-option *ngFor="let transmission of listOfTransmission" nzLabel="{{transmission}}" nzValue="{{transmission}}"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Search Button -->
        <div class="col-12 text-end mt-3">
          <button class="btn btn-primary fw-bold" nz-button nzType="primary" (click)="searchCar()" style="padding-bottom:32px">
            Search Car
          </button>
        </div>
      </div>
    </div>
  </nz-spin>

  <!-- Car Listing Section -->
  <div class="row gy-4">
    <div class="col-md-6" *ngFor="let car of cars">
      <div class="card h-80 shadow-sm" style="border-radius: 8px; overflow: hidden;">
        <div class="row g-0">

          <!-- Car Image -->
          <div class="col-md-6 p-3">
            <img class="img-fluid" [src]="car.processedImg" alt="profile" style="height: 200px; object-fit: cover; border-radius: 8px 0 0 8px;" />
          </div>

          <!-- Car Details -->
          <div class="col-md-6 p-3">
            <h4 style="cursor: pointer; color: #108ee9; font-weight: bold;">
              {{car.brand}} - {{car.name}}
            </h4>
            <p class="text-muted" style="margin-bottom: 10px;">{{car.description}}</p>
            <hr style="margin: 10px 0;">
            <p style="font-size: 0.95rem; line-height: 1.6;">
              <strong>Price:</strong> ${{car.price}}<br>
              <strong>Color:</strong> {{car.color}}<br>
              <strong>Transmission:</strong> {{car.transmission}}<br>
              <strong>Type:</strong> {{car.type}}<br>
              <strong>Year:</strong> {{car.modelYear | date: 'yyyy'}}
            </p>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>


